<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn">淡出</button>

<script>
    var obj = document.getElementById("fade-obj");
    var btn = document.getElementById("fade-btn");
    var num = 10;
    var time1;
    var time2;
    var flag = 1;

    btn.onclick = function () {
        btn.disabled=true;
        if (flag == 1){
            time1 = setInterval("clock1()",200);
        }
        if (flag == 0){
            time2 = setInterval("clock2()",200);
        }
    };

    function clock1() {
        if(num>=0){
            obj.style.opacity = num/10;
            num-- ;
        }
        else {
            btn.innerHTML = "淡入";
            btn.disabled=false;
            clearInterval(time1);
            flag = 0;
        }
    }

    function clock2() {
        if(num<=10){
            obj.style.opacity = num/10;
            num++;
        }
        else {
            btn.innerHTML = "淡出";
            btn.disabled=false;
            clearInterval(time2);
            flag = 1;
        }
    }

</script>

</body>
</html>